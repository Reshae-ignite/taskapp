{"ast":null,"code":"import _slicedToArray from\"/home/ralagbada/cloudshell_open/tasklist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import GoogleSignin from\"../components/GoogleSignin\";import GoogleSignup from'../components/GoogleSignup';import{Form,Button,Card}from\"react-bootstrap\";import List from'../pages/List';import fire from'../util/firebase';export default function SignIn(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],setHasAccount=_useState12[1];var clearInputs=function clearInputs(){setEmail('');setPassword('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};var handleSignUp=function handleSignUp(){clearErrors();fire.auth().createUserWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/email-already-in-use\":case\"auth/invaild-email\":setEmailError(err.message);break;case\"auth/weak-password\":setPasswordError(err.massage);break;}});};var handleLogout=function handleLogout(){fire.auth().signOut();};var handleSignIn=function handleSignIn(){clearErrors();fire.auth().signInWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/invaild-email\":case\"auth/user-disabled\":case\"auth/user-not-found\":setEmailError(err.message);break;case\"auth/wrong-password\":setPasswordError(err.massage);break;}});};var authListener=function authListener(){fire.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);}else{setUser(\"\");}});};useEffect(function(){authListener();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Sign In!\"),user?/*#__PURE__*/React.createElement(List,{handleLogout:handleLogout}):/*#__PURE__*/React.createElement(SignIn,{email:email,setEmail:setEmail,password:password,setPassword:setPassword,handleSignIn:handleSignIn,handleSignUp:handleSignUp,hasAccount:hasAccount,setHasAccount:setHasAccount,emailError:emailError,passwordError:passwordError}),/*#__PURE__*/React.createElement(Card,{body:true,className:\"logform\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\"}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\",autoFocus:true,required:true,value:email,onChange:function onChange(e){return setEmail(e.target.value);}},\"We'll never share your email with anyone else.\"),/*#__PURE__*/React.createElement(\"p\",{className:\"errorMsg\"},emailError)),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\",autoFocus:true,required:true,value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"p\",{className:\"errorMsg\"},passwordError)),/*#__PURE__*/React.createElement(\"div\",{className:\"signbtn\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Sign In\"),/*#__PURE__*/React.createElement(GoogleSignin,null)),/*#__PURE__*/React.createElement(\"p\",null,\"Don't have an account?  \",/*#__PURE__*/React.createElement(\"a\",{href:\"/signup\"},\" Sign up\")))));}","map":{"version":3,"sources":["/home/ralagbada/cloudshell_open/tasklist/src/components/SignIn.js"],"names":["React","useState","useEffect","GoogleSignin","GoogleSignup","Form","Button","Card","List","fire","SignIn","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","clearInputs","clearErrors","handleSignUp","auth","createUserWithEmailAndPassword","catch","err","code","message","massage","handleLogout","signOut","handleSignIn","signInWithEmailAndPassword","authListener","onAuthStateChanged","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport GoogleSignin from \"../components/GoogleSignin\";\nimport GoogleSignup from '../components/GoogleSignup'\nimport { Form, Button, Card } from \"react-bootstrap\";\nimport List from '../pages/List';\n\nimport fire from '../util/firebase';\n\nexport default function SignIn() {\n    const [user, setUser] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [emailError, setEmailError] = useState('');\n    const [passwordError, setPasswordError] = useState('');\n    const [hasAccount, setHasAccount] = useState(false);\n  \n  const clearInputs = () => {\n        setEmail('');\n        setPassword('');\n    }\n     const clearErrors = () =>{\n        setEmailError('');\n        setPasswordError('')\n    }\n\n    const handleSignUp = () => {\n      clearErrors();\n    fire\n    .auth()\n    .createUserWithEmailAndPassword(email, password)\n    .catch((err) => {\n        switch(err.code){\n        case \"auth/email-already-in-use\":\n        case \"auth/invaild-email\": \n            setEmailError(err.message);\n            break;\n        case \"auth/weak-password\":\n            setPasswordError(err.massage);\n            break\n        }\n        });\n  };\n   const handleLogout = () => {\n        fire.auth().signOut();\n    };\n\n    const handleSignIn = () => {\n    clearErrors();\n    fire\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .catch((err) => {\n        switch(err.code){\n        case \"auth/invaild-email\": \n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n        case \"auth/wrong-password\":\n            setPasswordError(err.massage);\n            break\n        }\n        });\n  };\n  const authListener = () =>{\n        fire.auth().onAuthStateChanged((user) => {\n            if(user){\n                clearInputs();\n                setUser(user);\n            }else{\n             setUser(\"\");\n            }\n        });\n        \n    };\n    useEffect(() => {\n        authListener();\n    }, []);\n\n\treturn (\n    <div > \n     <h1>Sign In!</h1> \n      {user ? (\n        <List handleLogout={handleLogout}/>\n        ):(\n        <SignIn\n        email={email}\n        setEmail={setEmail}\n        password={password}\n        setPassword={setPassword}\n        handleSignIn={handleSignIn}\n        handleSignUp={handleSignUp}\n        hasAccount={hasAccount}\n        setHasAccount={setHasAccount}\n        emailError={emailError}\n        passwordError={passwordError}\n        /> \n        )}\n    <Card body className=\"logform\" > \n    \n        <Form>\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Email address</Form.Label>\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\n                <Form.Text \n                className=\"text-muted\" \n                autoFocus \n                required\n                value={email}\n                onChange= {(e) => setEmail(e.target.value)}\n                >\n                We'll never share your email with anyone else.\n                </Form.Text>\n                <p className=\"errorMsg\">{emailError}</p>\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" placeholder=\"Password\" />\n                <Form.Text \n                className=\"text-muted\" \n                autoFocus \n                required\n                value={password}\n                onChange= {(e) => setPassword(e.target.value)}\n                />\n                <p className=\"errorMsg\">{passwordError}</p>\n            </Form.Group>\n            \n\n           <div className=\"signbtn\">\n           <Button variant=\"primary\" type=\"submit\">\n                Sign In\n            </Button>\n             <GoogleSignin/>\n            \n            </div>\n            <p>Don't have an account?  <a href=\"/signup\"> Sign up</a></p>\n            </Form>\n\n\t\t</Card>\n      </div>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}